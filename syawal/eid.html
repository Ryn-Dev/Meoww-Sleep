<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Happy Eid Mubarak 1447 H ‚Äì Febryan</title>
<meta name="description" content="Saya atas nama Febryan mengucapkan Selamat Hari Raya Idul Fitri 1447 H. Taqabbalallahu minna wa minkum, mohon maaf lahir dan batin.">

<meta property="og:type" content="website">
<meta property="og:title" content="Happy Eid Mubarak 1447 H üåô‚ú®">
<meta property="og:description" content="Saya atas nama Febryan mengucapkan Selamat Hari Raya Idul Fitri 1447 H. Taqabbalallahu minna wa minkum, mohon maaf lahir dan batin.">
<meta property="og:url" content="https://ryn-dev.github.io/Meoww-Sleep/syawal/">
<meta property="og:image" content="http://ryn-dev.github.io/Meoww-Sleep/syawal/img/febryan2.webp">

<link rel="shortcut icon" type="image/x-icon" href="img/Card-Logo.png">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;500&family=Amiri&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #01787E;
  --secondary: #F0C516;
  --bg: linear-gradient(135deg, #e0f2f1, #fcebe7);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg);
  font-family: 'Inter', sans-serif;
}

/* CARD */
.wrapper {
  width: 330px;
  height: 470px;
  background: rgba(255,255,255,.95);
  border-radius: 22px;
  box-shadow: 0 25px 50px rgba(0,0,0,.12);
  overflow: hidden;
  position: relative;
  animation: float 4s ease-in-out infinite;
  z-index: 5;
}

@keyframes float { 50% { transform: translateY(-8px); } }

.content { padding: 32px 24px 120px; text-align: center; }
h1 { font-family: 'Playfair Display', serif; color: var(--primary); font-size: 26px; }
#jam { font-size: 13px; color: #777; margin-top: 6px; display: block; }

.arabic {
  font-family: 'Amiri', serif;
  font-size: 22px;
  line-height: 2;
  margin: 28px 0 16px;
  color: var(--primary);
}

.message { font-size: 14px; line-height: 1.7; color: #444; }
.name {
  color: var(--primary);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  border-bottom: 2px dashed var(--secondary);
}

.thr-btn {
  margin-top: 18px;
  padding: 11px 26px;
  background: var(--secondary);
  border-radius: 50px;
  border: none;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: .3s;
}

.thr-btn:hover { transform: scale(1.05); box-shadow: 0 6px 18px rgba(0,0,0,.15); }

/* SLEEVE */
.sleeve {
  position: absolute;
  bottom: -40px;
  width: 100%;
  height: 320px;
  background: linear-gradient(to bottom, var(--primary), #0aa);
  border-radius: 0 0 22px 22px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #fff;
  transition: .5s;
}

.wrapper:hover .sleeve { transform: translateY(55%); }
.sleeve::before {
    content: ""; position: absolute; top: 0; width: 60px; height: 30px;
    background: rgba(255,255,255,0.95); border-radius: 0 0 60px 60px;
}

.tap { font-size: 12px; letter-spacing: 3px; opacity: .8; margin-bottom: 14px; }
.circle {
  width: 120px; height: 120px; background: #fff; border-radius: 50%;
  border: 4px solid var(--secondary); display: flex; align-items: center; justify-content: center;
}
.circle img { width: 75%; }
.year { margin-top: 14px; font-family: 'Playfair Display', serif; font-size: 30px; }

/* MODAL */
.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,.55);
  display: none; align-items: center; justify-content: center; z-index: 999;
}
.modal.active { display: flex; }
.modal.closing { animation: fadeOut .25s ease forwards; }
.modal-box {
  background: #fff; padding: 24px; border-radius: 18px; width: 300px;
  text-align: center; animation: popIn .3s ease;
}
.close-btn { margin-top: 14px; padding: 8px 22px; background: var(--primary); color: #fff; border-radius: 20px; border: none; cursor: pointer; }

/* MUSIC CONTROL */
.music-control {
  position: fixed; bottom: 20px; right: 20px; width: 45px; height: 45px;
  background: var(--primary); border-radius: 50%; display: flex;
  align-items: center; justify-content: center; cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 1000;
  border: 2px solid #fff; transition: .3s;
}
.music-control svg { width: 22px; height: 22px; fill: #fff; }

/* TOAST STYLING */
#musicToast {
  position: fixed;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: rgba(1, 120, 126, 0.9);
  color: white;
  padding: 10px 20px;
  border-radius: 50px;
  font-size: 12px;
  white-space: nowrap;
  transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s;
  opacity: 0;
  z-index: 1001;
  pointer-events: none;
  border: 1px solid var(--secondary);
}
#musicToast.show {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

@keyframes popIn { from { transform: scale(.85); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes popOut { to { transform: scale(.85); opacity: 0; } }
@keyframes fadeOut { to { opacity: 0; } }

.nav-btn {
  position: fixed;
  top: 18px;
  left: 18px;
  z-index: 2000;

  background: rgba(255, 255, 255, 0.95);
  color: var(--primary);
  padding: 8px 16px;
  border-radius: 50px;

  font-size: 12px;
  font-weight: 600;
  text-decoration: none;

  border: 1px solid var(--secondary);
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
  backdrop-filter: blur(6px);

  transition: .3s;
}

.nav-btn:hover {
  transform: translateY(-2px) scale(1.05);
  background: var(--secondary);
  color: #000;
}
.nav-btn {
  opacity: 0;
  animation: navIn .6s ease forwards;
}

@keyframes navIn {
  to {
    opacity: 1;
  }
}
@media (max-width: 480px) {
  .nav-btn {
    font-size: 11px;
    padding: 7px 14px;
    top: 12px;
    left: 12px;
  }
}

</style>
</head>

<body>

<a href="hijriah.html"
  class="nav-btn"
  target="_blank">
Jadwal Sholat
</a>

<audio id="takbiranAudio" src="raw/takbiran.mp3" loop></audio>

<div class="music-control" id="musicBtn" onclick="toggleMusic()">
  <span id="musicIcon">
    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
  </span>
</div>

<div id="musicToast">Klik di mana saja untuk memulai takbiran</div>

<div class="wrapper">
  <div class="content">
    <h1>Happy Eid Mubarak</h1>
    <span id="jam"></span>

    <div class="arabic">ÿ™ŸéŸÇŸéÿ®ŸéŸëŸÑŸé ÿßŸÑŸÑŸéŸëŸáŸè ŸÖŸêŸÜŸéŸëÿß ŸàŸéŸÖŸêŸÜŸíŸÉŸèŸÖŸí</div>

    <div class="message">
      Kami atas nama pribadi<br>
      <span class="name" onclick="openModal('photoModal')">F e b r y a n</span><br>
      mohon maaf lahir dan batin üôèüèª<br>

      <button class="thr-btn" onclick="openModal('danaModal')">Kirim THR via DANA üòã</button>
    </div>
  </div>

  <div class="sleeve">
    <div class="tap">HOVER / TAP ME</div>
    <div class="circle">
      <img src="img/Card-Logo.png" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2274/2274532.png'">
    </div>
    <div class="year" id="hijriYear"></div>
  </div>
</div>

<div class="modal" id="photoModal" onclick="backdropClose(event,'photoModal')">
  <div class="modal-box">
    <h3>Febryan</h3>
    <img src="img/febryan2.webp" style="width:100%; border-radius:14px; margin-top:12px; cursor: pointer;" onclick="goToWeb()">
    <button class="close-btn" onclick="closeModal('photoModal')">Tutup</button>
  </div>
</div>

<div class="modal" id="danaModal" onclick="backdropClose(event,'danaModal')">
  <div class="modal-box">
    <h3>Scan hanya di QR DANA</h3>
    <img src="img/dana2.jpeg" style="width:100%; border-radius:14px; margin-top:12px;" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=DANA-FEBRYAN'">
    <button class="close-btn" onclick="closeModal('danaModal')">Tutup</button>
  </div>
</div>

<script>
  const hijriMonthsCustom = [
  "Muharram",
  "Safar",
  "Rabiul Awal",
  "Rabiul Akhir",
  "Jumadil Awal",
  "Jumadil Akhir",
  "Rajab",
  "Sya'ban",
  "Ramadhan",
  "Syawal",
  "Dzulqa'dah",
  "Dzulhijjah"
];

let hijriDateCached = "Menunggu data Aladhan...";
let hijriYearCached = "Menunggu...";

/* AMBIL TANGGAL HIJRIAH DARI ALADHAN */
async function loadHijriFromAladhan() {
  const today = new Date().toISOString().split("T")[0];

  const res = await fetch(
    `https://api.aladhan.com/v1/timingsByCity?city=Jakarta&country=Indonesia&method=8&date=${today}`
  );

  const json = await res.json();
  const hijri = json.data.date.hijri;

  const day = hijri.day;
  const monthIndex = hijri.month.number - 1;
  const year = hijri.year;

  hijriDateCached =
    `${day} ${hijriMonthsCustom[monthIndex]} ${year} H`;

  hijriYearCached = `${year} H`;

}

/* UPDATE JAM + TANGGAL */
function updateTime() {
  const now = new Date();

  const time = now.toLocaleTimeString("id-ID", {
    timeZone: "Asia/Jakarta",
    hour: "2-digit",
    minute: "2-digit",
    second: "2-digit"
  });

  document.getElementById("jam").innerHTML =
    `${time}<br><span style="line-height:1.8">${hijriDateCached}</span>`;

  document.getElementById("hijriYear").innerHTML = `${hijriYearCached}`;
}

/* INIT */
loadHijriFromAladhan();
updateTime();

/* JAM UPDATE TIAP DETIK */
setInterval(updateTime, 1000);


function openModal(id) {
  const modal = document.getElementById(id);
  modal.classList.remove("closing");
  modal.classList.add("active");
}

function closeModal(id) {
  const modal = document.getElementById(id);
  modal.classList.add("closing");
  setTimeout(() => { modal.classList.remove("active", "closing"); }, 250);
}

function backdropClose(e, id) { if (e.target.classList.contains("modal")) { closeModal(id); } }
function goToWeb() { window.open("https://febryann.my.id", "_blank"); }

// --- LOGIKA MUSIK & TOAST ---
const audio = document.getElementById("takbiranAudio");
const musicIcon = document.getElementById("musicIcon");
const musicToast = document.getElementById("musicToast");
const wrapper = document.querySelector(".wrapper");

// 1. Fungsi Utama Play
async function playMusic() {
  try {
    await audio.play();
    musicIcon.innerHTML = '<svg viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>';
    hideToast(); // Sembunyikan toast jika musik berhasil diputar
  } catch (err) {
    showToast(); // Tampilkan toast jika autoplay diblokir
  }
}

// 2. Fungsi Pause
function pauseMusic() {
  audio.pause();
  musicIcon.innerHTML = '<svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
}

// 3. Fungsi Toast
function showToast() { musicToast.classList.add("show"); }
function hideToast() { musicToast.classList.remove("show"); }

// 4. Buka Kunci Audio lewat Klik/Tap pertama
const unlockAudio = () => {
  playMusic();
  // Hapus listener agar tidak dijalankan terus menerus
  document.removeEventListener('click', unlockAudio);
  document.removeEventListener('touchstart', unlockAudio);
};

document.addEventListener('click', unlockAudio);
document.addEventListener('touchstart', unlockAudio);

// 5. Logika Hover (Play jika sedang pause)
wrapper.addEventListener("mouseenter", () => {
  if (audio.paused) {
    playMusic();
  }
});

function toggleMusic() {
  if (audio.paused) { playMusic(); } else { pauseMusic(); }
}

// Jalankan pengecekan autoplay saat halaman dimuat
window.addEventListener('load', playMusic);
</script>

</body>
</html>